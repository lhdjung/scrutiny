<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="scrutiny">
<title>DEBIT • scrutiny</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="DEBIT">
<meta property="og:description" content="scrutiny">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">scrutiny</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Consistency tests</h6>
    <a class="dropdown-item" href="../articles/grim.html">GRIM</a>
    <a class="dropdown-item" href="../articles/grimmer.html">GRIMMER</a>
    <a class="dropdown-item" href="../articles/debit.html">DEBIT</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Infrastructure</h6>
    <a class="dropdown-item" href="../articles/infrastructure.html">General infrastructure</a>
    <a class="dropdown-item" href="../articles/consistency-tests.html">Implementing consistency tests</a>
    <a class="dropdown-item" href="../articles/rounding.html">Rounding</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Other</h6>
    <a class="dropdown-item" href="../articles/wrangling.html">Data wrangling</a>
    <a class="dropdown-item" href="../articles/related.html">Related software</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/lhdjung/scrutiny/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="debit_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>DEBIT</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lhdjung/scrutiny/blob/HEAD/vignettes/debit.Rmd" class="external-link"><code>vignettes/debit.Rmd</code></a></small>
      <div class="d-none name"><code>debit.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lhdjung.github.io/scrutiny">scrutiny</a></span><span class="op">)</span></span></code></pre></div>
<p>The descriptive binary test, or DEBIT, checks whether the reported mean, standard deviation (SD), and sample size of binary data are mutually consistent <span class="citation">(Heathers and Brown 2019)</span>. Like GRIM, it tests if a given set of summary data can describe the same distribution.</p>
<p>This vignette covers scrutiny’s implementation of DEBIT:</p>
<ol style="list-style-type: decimal">
<li>The basic, single-case <code><a href="../reference/debit.html">debit()</a></code> function.</li>
<li>A specialized mapping function, <code><a href="../reference/debit_map.html">debit_map()</a></code>.</li>
<li>The <code><a href="../reference/audit.html">audit()</a></code> method for summarizing <code><a href="../reference/debit_map.html">debit_map()</a></code>’s results.</li>
<li>Finally, the visualization function <code><a href="../reference/debit_plot.html">debit_plot()</a></code>.</li>
</ol>
<div class="section level3">
<h3 id="debit-basics">DEBIT basics<a class="anchor" aria-label="anchor" href="#debit-basics"></a>
</h3>
<p>Consider these summary data for a binary distribution: a mean of 0.35, an SD of 0.18, and a sample size of 20. To test their consistency, run this:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/debit.html">debit</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"0.35"</span>, sd <span class="op">=</span> <span class="st">"0.18"</span>, n <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt;  0.35 </span></span>
<span><span class="co">#&gt; FALSE</span></span></code></pre></div>
<p>As in <code><a href="../reference/grim.html">grim()</a></code>, the mean needs to be a string. (The same is true for the SD.) That is because strings preserve trailing zeros, which can be crucial for DEBIT. Numeric values don’t, and even converting them to strings won’t help. A workaround for larger numbers of such values, <code><a href="../reference/restore_zeros.html">restore_zeros()</a></code>, is discussed in the <em>Data wrangling</em> vignette.</p>
<p><code><a href="../reference/debit.html">debit()</a></code> has some further arguments, but all of them can be used from within <code><a href="../reference/debit_map.html">debit_map()</a></code>. Since <code><a href="../reference/debit_map.html">debit_map()</a></code> is the more useful function in practice, the other arguments will be discussed in that context.</p>
</div>
<div class="section level3">
<h3 id="testing-multiple-cases">Testing multiple cases<a class="anchor" aria-label="anchor" href="#testing-multiple-cases"></a>
</h3>
<div class="section level4">
<h4 id="working-with-debit_map">Working with <code>debit_map()</code><a class="anchor" aria-label="anchor" href="#working-with-debit_map"></a>
</h4>
<p>If you want to test more than a handful of cases, the recommended way is to enter them into a data frame and to run <code><a href="../reference/debit_map.html">debit_map()</a></code> on the data frame. Below are the example data from Heathers and Brown’s (2019) Table 1. A useful way to enter such data is to copy them from a PDF file and paste them into <code><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tibble::tribble()</a></code>, which is available via scrutiny:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flying_pigs</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>    x  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">0.2</span>, <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/restore_zeros.html">restore_zeros</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">0</span>, <span class="fl">0.3</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/restore_zeros.html">restore_zeros</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    n <span class="op">=</span> <span class="fl">1000</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">flying_pigs</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 3</span></span></span>
<span><span class="co">#&gt;   x     sd        n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.49  0.00   <span style="text-decoration: underline;">1</span>000</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.36  0.14   <span style="text-decoration: underline;">1</span>000</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0.42  0.14   <span style="text-decoration: underline;">1</span>000</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0.40  0.17   <span style="text-decoration: underline;">1</span>000</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0.84  0.18   <span style="text-decoration: underline;">1</span>000</span></span></code></pre></div>
<p>Now, simply run <code><a href="../reference/debit_map.html">debit_map()</a></code> on that data frame:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flying_pigs</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_map.html">debit_map</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 11</span></span></span>
<span><span class="co">#&gt;   x     sd        n consistency rounding sd_lo…¹ sd_in…² sd_up…³ sd_in…⁴ x_lower</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.49  0.00   <span style="text-decoration: underline;">1</span>000 FALSE       up_or_d…  -<span style="color: #BB0000;">0.005</span> TRUE      0.005 TRUE      0.485</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.36  0.14   <span style="text-decoration: underline;">1</span>000 FALSE       up_or_d…   0.135 TRUE      0.145 TRUE      0.355</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0.42  0.14   <span style="text-decoration: underline;">1</span>000 FALSE       up_or_d…   0.135 TRUE      0.145 TRUE      0.415</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0.40  0.17   <span style="text-decoration: underline;">1</span>000 FALSE       up_or_d…   0.165 TRUE      0.175 TRUE      0.395</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0.84  0.18   <span style="text-decoration: underline;">1</span>000 FALSE       up_or_d…   0.175 TRUE      0.185 TRUE      0.835</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1 more variable: x_upper &lt;dbl&gt;, and abbreviated variable names</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ¹​sd_lower, ²​sd_incl_lower, ³​sd_upper, ⁴​sd_incl_upper</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span></code></pre></div>
<p>The <code>x</code>, <code>sd</code>, and <code>n</code> columns are the same as in the input. The main result, <code>consistency</code>, is the DEBIT consistency of the former three columns.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pigs3</span>  <span class="co"># data saved within the package</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 3</span></span></span>
<span><span class="co">#&gt;   x     sd        n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.53  0.50   <span style="text-decoration: underline;">1</span>683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.44  0.50   <span style="text-decoration: underline;">1</span>683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0.77  0.42   <span style="text-decoration: underline;">1</span>683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0.19  0.35   <span style="text-decoration: underline;">1</span>683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0.34  0.47   <span style="text-decoration: underline;">1</span>683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 0.93  0.25   <span style="text-decoration: underline;">1</span>683</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> 0.12  0.33   <span style="text-decoration: underline;">1</span>683</span></span>
<span></span>
<span><span class="va">pigs3</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_map.html">debit_map</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 11</span></span></span>
<span><span class="co">#&gt;   x     sd        n consistency rounding sd_lo…¹ sd_in…² sd_up…³ sd_in…⁴ x_lower</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.53  0.50   <span style="text-decoration: underline;">1</span>683 TRUE        up_or_d…   0.495 TRUE      0.505 TRUE      0.525</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.44  0.50   <span style="text-decoration: underline;">1</span>683 TRUE        up_or_d…   0.495 TRUE      0.505 TRUE      0.435</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0.77  0.42   <span style="text-decoration: underline;">1</span>683 TRUE        up_or_d…   0.415 TRUE      0.425 TRUE      0.765</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0.19  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up_or_d…   0.345 TRUE      0.355 TRUE      0.185</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0.34  0.47   <span style="text-decoration: underline;">1</span>683 TRUE        up_or_d…   0.465 TRUE      0.475 TRUE      0.335</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 0.93  0.25   <span style="text-decoration: underline;">1</span>683 TRUE        up_or_d…   0.245 TRUE      0.255 TRUE      0.925</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> 0.12  0.33   <span style="text-decoration: underline;">1</span>683 TRUE        up_or_d…   0.325 TRUE      0.335 TRUE      0.115</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1 more variable: x_upper &lt;dbl&gt;, and abbreviated variable names</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ¹​sd_lower, ²​sd_incl_lower, ³​sd_upper, ⁴​sd_incl_upper</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span></code></pre></div>
<p>DEBIT only makes sense with binary means and SDs. Both <code><a href="../reference/debit.html">debit()</a></code> and <code><a href="../reference/debit_map.html">debit_map()</a></code> check if the inputs are such data, and fail if they are not:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pigs1</span>  <span class="co"># no binary means / SDs!</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12 × 2</span></span></span>
<span><span class="co">#&gt;    x         n</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 7.22     32</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 4.74     25</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 5.23     29</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2.57     24</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 6.77     27</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2.68     28</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 7.01     29</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 7.38     26</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 3.14     27</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 6.89     31</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> 5.00     25</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> 0.24     28</span></span>
<span></span>
<span><span class="va">pigs1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_map.html">debit_map</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `manage_key_colnames()` at scrutiny/R/debit-map.R:81:2:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Column `sd` missing.</span></span>
<span><span class="co">#&gt; → The binary SD column in `data` needs to be named `sd`, or else specify the</span></span>
<span><span class="co">#&gt;   `sd` argument as the name of that column.</span></span></code></pre></div>
<p>Compared to <code><a href="../reference/grim_map.html">grim_map()</a></code>, <code><a href="../reference/debit_map.html">debit_map()</a></code> is more straightforward. There is no percentage conversion or accounting for multiple scale items. The same is true when comparing the basic <code><a href="../reference/grim.html">grim()</a></code> and <code><a href="../reference/debit.html">debit()</a></code> functions. However, both implementations tap scrutiny’s arsenal of rounding procedures, so that is discussed next.</p>
</div>
<div class="section level4">
<h4 id="rounding">Rounding<a class="anchor" aria-label="anchor" href="#rounding"></a>
</h4>
<p>The scrutiny package provides infrastructure for reconstructing rounded numbers. All of that can be commanded from within <code><a href="../reference/debit.html">debit()</a></code> and <code><a href="../reference/debit_map.html">debit_map()</a></code>. Several arguments allow for stating the precise way in which the original numbers have supposedly been rounded.</p>
<p>First and foremost is the <code>rounding</code> argument. It takes a string with the rounding procedure’s name, which leads to the number being rounded in either of these ways:</p>
<ol style="list-style-type: decimal">
<li>Rounded <code>"up"</code> or <code>"down"</code> from 5. Note that SAS, SPSS, Stata, Matlab, and Excel round <code>"up"</code> from 5, whereas Python rounds <code>"down"</code> from 5.</li>
<li>Rounded to <code>"even"</code> using base R’s own <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">round()</a></code>.</li>
<li>Rounded <code>"up_from"</code> or <code>"down_from"</code> some number, which then needs to be specified via the <code>threshold</code> argument.</li>
<li>Given a <code>"ceiling"</code> or <code>"floor"</code> at the respective decimal place.</li>
<li>Rounded towards zero with <code>"trunc"</code> or away from zero with <code>"anti_trunc"</code>.</li>
</ol>
<p>The default, <code>"up_or_down"</code>, allows for numbers rounded either <code>"up"</code> or <code>"down"</code> from 5 when using DEBIT; and likewise for <code>"up_from_or_down_from"</code> and <code>"ceiling_or_floor"</code>. For more about these procedures, see documentation for <code><a href="https://rdrr.io/r/base/Round.html" class="external-link">round()</a></code>, <code><a href="../reference/round_up_from.html">round_up()</a></code>, and <code><a href="../reference/round_ceiling.html">round_ceiling()</a></code>. These include all of the above ways of rounding.</p>
<p>Points 3 to 5 above list some quite obscure options that were only included to cover a wide spectrum of possible rounding procedures. The same is true for the <code>threshold</code> and <code>symmetric</code> arguments, so these aren’t discussed here any further.</p>
<p>By default, <code><a href="../reference/debit.html">debit()</a></code> and <code><a href="../reference/debit_map.html">debit_map()</a></code> accept values rounded either up or down from 5. If you have reason to impose stricter assumptions on the way <code>x</code> was rounded, specify <code>rounding</code> accordingly:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pigs3</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_map.html">debit_map</a></span><span class="op">(</span>rounding <span class="op">=</span> <span class="st">"up"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 11</span></span></span>
<span><span class="co">#&gt;   x     sd        n consistency rounding sd_lo…¹ sd_in…² sd_up…³ sd_in…⁴ x_lower</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.53  0.50   <span style="text-decoration: underline;">1</span>683 TRUE        up         0.495 TRUE      0.505 FALSE     0.525</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.44  0.50   <span style="text-decoration: underline;">1</span>683 TRUE        up         0.495 TRUE      0.505 FALSE     0.435</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0.77  0.42   <span style="text-decoration: underline;">1</span>683 TRUE        up         0.415 TRUE      0.425 FALSE     0.765</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0.19  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up         0.345 TRUE      0.355 FALSE     0.185</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0.34  0.47   <span style="text-decoration: underline;">1</span>683 TRUE        up         0.465 TRUE      0.475 FALSE     0.335</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 0.93  0.25   <span style="text-decoration: underline;">1</span>683 TRUE        up         0.245 TRUE      0.255 FALSE     0.925</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> 0.12  0.33   <span style="text-decoration: underline;">1</span>683 TRUE        up         0.325 TRUE      0.335 FALSE     0.115</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1 more variable: x_upper &lt;dbl&gt;, and abbreviated variable names</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ¹​sd_lower, ²​sd_incl_lower, ³​sd_upper, ⁴​sd_incl_upper</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span>
<span></span>
<span><span class="va">pigs3</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_map.html">debit_map</a></span><span class="op">(</span>rounding <span class="op">=</span> <span class="st">"even"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 11</span></span></span>
<span><span class="co">#&gt;   x     sd        n consistency rounding sd_lo…¹ sd_in…² sd_up…³ sd_in…⁴ x_lower</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.53  0.50   <span style="text-decoration: underline;">1</span>683 TRUE        even       0.495 FALSE     0.505 FALSE     0.525</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.44  0.50   <span style="text-decoration: underline;">1</span>683 TRUE        even       0.495 FALSE     0.505 FALSE     0.435</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0.77  0.42   <span style="text-decoration: underline;">1</span>683 TRUE        even       0.415 FALSE     0.425 FALSE     0.765</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0.19  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       even       0.345 FALSE     0.355 FALSE     0.185</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0.34  0.47   <span style="text-decoration: underline;">1</span>683 TRUE        even       0.465 FALSE     0.475 FALSE     0.335</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 0.93  0.25   <span style="text-decoration: underline;">1</span>683 TRUE        even       0.245 FALSE     0.255 FALSE     0.925</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> 0.12  0.33   <span style="text-decoration: underline;">1</span>683 TRUE        even       0.325 FALSE     0.335 FALSE     0.115</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 1 more variable: x_upper &lt;dbl&gt;, and abbreviated variable names</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ¹​sd_lower, ²​sd_incl_lower, ³​sd_upper, ⁴​sd_incl_upper</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span></code></pre></div>
<p>Although changing the rounding procedure didn’t make any difference for the DEBIT consistency here, it is important to account for the different ways in which numbers might be rounded, if only to demonstrate that some given results are robust to those variable decisions. To err on the side of caution, the default for <code>rounding</code> is the permissive <code>"up_or_down"</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="summarizing-results-with-audit">Summarizing results with <code>audit()</code><a class="anchor" aria-label="anchor" href="#summarizing-results-with-audit"></a>
</h3>
<p>Following up on a call to <code><a href="../reference/debit_map.html">debit_map()</a></code>, the generic function <code><a href="../reference/audit.html">audit()</a></code> summarizes test results:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pigs3</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_map.html">debit_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/audit.html">audit</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 6</span></span></span>
<span><span class="co">#&gt;   incons_cases all_cases incons_rate mean_x mean_sd distinct_n</span></span>
<span><span class="co">#&gt;          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>            1         7       0.143  0.474   0.403          1</span></span></code></pre></div>
<p>These columns are —</p>
<ol style="list-style-type: decimal">
<li>
<code>incons_cases</code>: number of inconsistent value sets.</li>
<li>
<code>all_cases</code>: total number of value sets.</li>
<li>
<code>incons_rate</code>: proportion of DEBIT-inconsistent value sets.</li>
<li>
<code>mean_x</code>: average of binary distribution means.</li>
<li>
<code>mean_sd</code>: average of binary distribution standard deviations.</li>
<li>
<code>distinct_n</code>: number of different sample sizes.</li>
</ol>
</div>
<div class="section level3">
<h3 id="visualizing-results-with-debit_plot">Visualizing results with <code>debit_plot()</code><a class="anchor" aria-label="anchor" href="#visualizing-results-with-debit_plot"></a>
</h3>
<p>There is a specialized visualization function for DEBIT results, <code><a href="../reference/debit_plot.html">debit_plot()</a></code>. Only run it on <code><a href="../reference/debit_map.html">debit_map()</a></code>’s output. It will fail otherwise.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Determine plot theme for the remaining session:</span></span>
<span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pigs3</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_map.html">debit_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_plot.html">debit_plot</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="debit_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
<p>DEBIT-consistent value pairs are blue, inconsistent ones red. The black arc is the DEBIT line: Given the sample size, the pairs of mean and SD values are DEBIT-consistent if and only if they cross this line. More precisely, the inner boxes must cross the line — the outer boxes are just pointers to the inner ones, in case these are poorly visible. They have no inherent meaning.</p>
<p>Except for the colors, inner boxes must look exactly like they do here: Their sizes and shapes are completely determined by the mean and SD values. Since inner boxes cannot be enlarged at will, outer boxes might be helpful to spot them at first glance.</p>
<p>However, if outer boxes are not desired, they can be turned off like this:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pigs3</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_map.html">debit_map</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/debit_plot.html">debit_plot</a></span><span class="op">(</span>show_outer_boxes <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="debit_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>Color settings and other ggplot2-typical options are available via arguments, as are settings handed down to <code><a href="https://rdrr.io/pkg/ggrepel/man/geom_text_repel.html" class="external-link">ggrepel::geom_text_repel()</a></code>, which creates the labels. For more, see <code><a href="../reference/debit_plot.html">debit_plot()</a></code>’s documentation.</p>
</div>
<div class="section level3">
<h3 id="testing-numeric-sequences-with-debit_map_seq">Testing numeric sequences with <code>debit_map_seq()</code><a class="anchor" aria-label="anchor" href="#testing-numeric-sequences-with-debit_map_seq"></a>
</h3>
<p>DEBIT analysts might be interested in a mean or percentage value’s numeric neighborhood. Suppose you found DEBIT inconsistencies, as in out example <code>pigs3</code> data. You might wonder whether they are due to small reporting or computing errors.</p>
<p>Use <code><a href="../reference/debit_map_seq.html">debit_map_seq()</a></code> to use DEBIT for the values surrounding the reported means, SDs, and sample sizes:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_seq1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/debit_map_seq.html">debit_map_seq</a></span><span class="op">(</span><span class="va">pigs3</span><span class="op">)</span></span>
<span><span class="va">out_seq1</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 30 × 13</span></span></span>
<span><span class="co">#&gt;    x     sd        n consistency round…¹ sd_lo…² sd_in…³ sd_up…⁴ sd_in…⁵ x_lower</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 0.14  0.35   <span style="text-decoration: underline;">1</span>683 TRUE        up_or_…   0.345 TRUE      0.355 TRUE      0.135</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 0.15  0.35   <span style="text-decoration: underline;">1</span>683 TRUE        up_or_…   0.345 TRUE      0.355 TRUE      0.145</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 0.16  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up_or_…   0.345 TRUE      0.355 TRUE      0.155</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 0.17  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up_or_…   0.345 TRUE      0.355 TRUE      0.165</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 0.18  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up_or_…   0.345 TRUE      0.355 TRUE      0.175</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 0.20  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up_or_…   0.345 TRUE      0.355 TRUE      0.195</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 0.21  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up_or_…   0.345 TRUE      0.355 TRUE      0.205</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 0.22  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up_or_…   0.345 TRUE      0.355 TRUE      0.215</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 0.23  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up_or_…   0.345 TRUE      0.355 TRUE      0.225</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 0.24  0.35   <span style="text-decoration: underline;">1</span>683 FALSE       up_or_…   0.345 TRUE      0.355 TRUE      0.235</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 20 more rows, 3 more variables: x_upper &lt;dbl&gt;, case &lt;int&gt;, var &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   and abbreviated variable names ¹​rounding, ²​sd_lower, ³​sd_incl_lower,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ⁴​sd_upper, ⁵​sd_incl_upper</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</span></span></span></code></pre></div>
<div class="section level4">
<h4 id="summaries-with-audit_seq">Summaries with <code>audit_seq()</code><a class="anchor" aria-label="anchor" href="#summaries-with-audit_seq"></a>
</h4>
<p>As this output is a little unwieldy, run <code><a href="../reference/audit.html">audit_seq()</a></code> on the results:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/audit.html">audit_seq</a></span><span class="op">(</span><span class="va">out_seq1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 17</span></span></span>
<span><span class="co">#&gt;   x     sd        n consi…¹ hits_…² hits_x hits_sd hits_n diff_x diff_…³ diff_…⁴</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.19  0.35   <span style="text-decoration: underline;">1</span>683 FALSE         4      2       2 1           4      <span style="color: #BB0000;">NA</span>      -<span style="color: #BB0000;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 6 more variables: diff_sd &lt;dbl&gt;, diff_sd_up &lt;dbl&gt;, diff_sd_down &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   diff_n &lt;dbl&gt;, diff_n_up &lt;dbl&gt;, diff_n_down &lt;dbl&gt;, and abbreviated variable</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   names ¹​consistency, ²​hits_total, ³​diff_x_up, ⁴​diff_x_down</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span></code></pre></div>
<p>Here is what the output columns mean:</p>
<ul>
<li><p><code>x</code>, <code>sd</code>, and <code>n</code> are the original inputs, reconstructed and tested for <code>consistency</code> here.</p></li>
<li><p>The <code>hits_*</code> columns display is the number of DEBIT-consistent value combinations found within the specified <code>dispersion</code> range; either in total or by varying individual parameters.</p></li>
<li><p><code>diff_x</code> reports the absolute difference between <code>x</code> and the next consistent dispersed value (in dispersion steps, not the actual numeric difference). <code>diff_x_up</code> and <code>diff_x_down</code> report the difference to the next higher or lower consistent value, respectively.</p></li>
<li><p>Accordingly with the <code>diff_sd*</code> and <code>diff_n*</code> columns.</p></li>
</ul>
<p>The default for <code>dispersion</code> is <code>1:5</code>, for five steps up and down. When the <code>dispersion</code> sequence gets longer, the number of hits tends to increase:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_seq2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/debit_map_seq.html">debit_map_seq</a></span><span class="op">(</span><span class="va">pigs3</span>, dispersion <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">7</span>, include_consistent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/audit.html">audit_seq</a></span><span class="op">(</span><span class="va">out_seq2</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 7 × 17</span></span></span>
<span><span class="co">#&gt;   x     sd        n consi…¹ hits_…² hits_x hits_sd hits_n diff_x diff_…³ diff_…⁴</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.53  0.50   <span style="text-decoration: underline;">1</span>683 TRUE         25     11       0     14      1       1      -<span style="color: #BB0000;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.44  0.50   <span style="text-decoration: underline;">1</span>683 TRUE         22      8       0     14      1       1      -<span style="color: #BB0000;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 0.77  0.42   <span style="text-decoration: underline;">1</span>683 TRUE         16      2       0     14      1       1      -<span style="color: #BB0000;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 0.19  0.35   <span style="text-decoration: underline;">1</span>683 FALSE         4      2       2      0      4      <span style="color: #BB0000;">NA</span>      -<span style="color: #BB0000;">4</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 0.34  0.47   <span style="text-decoration: underline;">1</span>683 TRUE         17      2       1     14      1      <span style="color: #BB0000;">NA</span>      -<span style="color: #BB0000;">1</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 0.93  0.25   <span style="text-decoration: underline;">1</span>683 TRUE         16      2       1     14     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">7</span> 0.12  0.33   <span style="text-decoration: underline;">1</span>683 TRUE         16      1       1     14      1       1      <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 6 more variables: diff_sd &lt;dbl&gt;, diff_sd_up &lt;dbl&gt;, diff_sd_down &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   diff_n &lt;dbl&gt;, diff_n_up &lt;dbl&gt;, diff_n_down &lt;dbl&gt;, and abbreviated variable</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   names ¹​consistency, ²​hits_total, ³​diff_x_up, ⁴​diff_x_down</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `colnames()` to see all variable names</span></span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="visualizing-debit-checked-sequences">Visualizing DEBIT-checked sequences<a class="anchor" aria-label="anchor" href="#visualizing-debit-checked-sequences"></a>
</h4>
<p>Although it is possible in principle to visualize results of <code><a href="../reference/debit_map_seq.html">debit_map_seq()</a></code> using <code><a href="../reference/debit_plot.html">debit_plot()</a></code>, it’s not recommended because the results don’t currently look great. This issue might be fixed in a future version of <code><a href="../reference/debit_plot.html">debit_plot()</a></code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="handling-unknown-group-sizes-with-debit_map_total_n">Handling unknown group sizes with <code>debit_map_total_n()</code><a class="anchor" aria-label="anchor" href="#handling-unknown-group-sizes-with-debit_map_total_n"></a>
</h3>
<div class="section level4">
<h4 id="problems-from-underreporting">Problems from underreporting<a class="anchor" aria-label="anchor" href="#problems-from-underreporting"></a>
</h4>
<p>Unfortunately, some studies that report group averages don’t report the corresponding group sizes — only a total sample size. This makes any direct use of DEBIT impossible because only <code>x</code> and <code>sd</code> values are known, not <code>n</code> values. All that is feasible here in terms of DEBIT is to take a number around half the total sample size, go up and down from it, and check which <em>hypothetical</em> group sizes are consistent with the reported group means and SDs. <code><a href="../reference/debit_map_total_n.html">debit_map_total_n()</a></code> semi-automates this process, motivated by a recent GRIM analysis <span class="citation">(Bauer and Francis 2021)</span>.</p>
<p>Here is an example:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_total_n</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="va">x1</span>,     <span class="op">~</span><span class="va">x2</span>,   <span class="op">~</span><span class="va">sd1</span>,   <span class="op">~</span><span class="va">sd2</span>,  <span class="op">~</span><span class="va">n</span>,</span>
<span>  <span class="st">"0.30"</span>, <span class="st">"0.28"</span>, <span class="st">"0.17"</span>, <span class="st">"0.10"</span>, <span class="fl">70</span>,</span>
<span>  <span class="st">"0.41"</span>, <span class="st">"0.39"</span>, <span class="st">"0.09"</span>, <span class="st">"0.15"</span>, <span class="fl">65</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">out_total_n</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/debit_map_total_n.html">debit_map_total_n</a></span><span class="op">(</span><span class="va">out_total_n</span><span class="op">)</span></span>
<span><span class="va">out_total_n</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 48 × 15</span></span></span>
<span><span class="co">#&gt;    x     sd        n n_change consiste…¹ both_…² round…³ sd_lo…⁴ sd_in…⁵ sd_up…⁶</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 0.30  0.17     35        0 FALSE      FALSE   up_or_…   0.165 TRUE      0.175</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 0.28  0.10     35        0 FALSE      FALSE   up_or_…   0.095 TRUE      0.105</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 0.30  0.17     34       -<span style="color: #BB0000;">1</span> FALSE      FALSE   up_or_…   0.165 TRUE      0.175</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 0.28  0.10     36        1 FALSE      FALSE   up_or_…   0.095 TRUE      0.105</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 0.30  0.17     33       -<span style="color: #BB0000;">2</span> FALSE      FALSE   up_or_…   0.165 TRUE      0.175</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 0.28  0.10     37        2 FALSE      FALSE   up_or_…   0.095 TRUE      0.105</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 0.30  0.17     32       -<span style="color: #BB0000;">3</span> FALSE      FALSE   up_or_…   0.165 TRUE      0.175</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 0.28  0.10     38        3 FALSE      FALSE   up_or_…   0.095 TRUE      0.105</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 0.30  0.17     31       -<span style="color: #BB0000;">4</span> FALSE      FALSE   up_or_…   0.165 TRUE      0.175</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 0.28  0.10     39        4 FALSE      FALSE   up_or_…   0.095 TRUE      0.105</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 38 more rows, 5 more variables: sd_incl_upper &lt;lgl&gt;, x_lower &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   x_upper &lt;dbl&gt;, case &lt;int&gt;, dir &lt;chr&gt;, and abbreviated variable names</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ¹​consistency, ²​both_consistent, ³​rounding, ⁴​sd_lower, ⁵​sd_incl_lower,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ⁶​sd_upper</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ Use `print(n = ...)` to see more rows, and `colnames()` to see all variable names</span></span></span>
<span></span>
<span><span class="fu"><a href="../reference/audit.html">audit_total_n</a></span><span class="op">(</span><span class="va">out_total_n</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 10</span></span></span>
<span><span class="co">#&gt;   x1    x2    sd1   sd2       n hits_total hits_forth hits_back scenar…¹ hit_r…²</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0.30  0.28  0.17  0.10     70          0          0         0       12       0</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 0.41  0.39  0.09  0.15     65          0          0         0       12       0</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with abbreviated variable names ¹​scenarios_total, ²​hit_rate</span></span></span></code></pre></div>
<p>See the GRIM vignette, section <em>Handling unknown group sizes with <code><a href="../reference/grim_map_total_n.html">grim_map_total_n()</a></code></em>, for a more comprehensive case study. It uses <code><a href="../reference/grim_map_total_n.html">grim_map_total_n()</a></code>, which is the same as <code><a href="../reference/debit_map_total_n.html">debit_map_total_n()</a></code> but only for GRIM.</p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references">
<div id="ref-bauer_expression_2021">
<p>Bauer, Patricia J., and Gregory Francis. 2021. “Expression of Concern: Is It Light or Dark? Recalling Moral Behavior Changes Perception of Brightness.” <em>Psychological Science</em> 32 (12): 2042–3.</p>
</div>
<div id="ref-heathers_debit_2019">
<p>Heathers, James A. J., and Nicholas J. L. Brown. 2019. “DEBIT: A Simple Consistency Test for Binary Data.” <a href="https://osf.io/5vb3u/" class="external-link">https://osf.io/5vb3u/</a>.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Lukas Jung.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
