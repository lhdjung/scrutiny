<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>The GRIMMER test (granularity-related inconsistency of means mapped to error repeats) — grimmer • scrutiny</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The GRIMMER test (granularity-related inconsistency of means mapped to error repeats) — grimmer"><meta name="description" content="grimmer() checks if reported mean and SD values of integer
data are mathematically consistent with the reported sample size and the
number of items that compose the mean value. It works much like grim().
The function is vectorized, but it is recommended to use grimmer_map()
for testing multiple cases."><meta property="og:description" content="grimmer() checks if reported mean and SD values of integer
data are mathematically consistent with the reported sample size and the
number of items that compose the mean value. It works much like grim().
The function is vectorized, but it is recommended to use grimmer_map()
for testing multiple cases."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scrutiny</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Consistency tests</h6></li>
    <li><a class="dropdown-item" href="../articles/grim.html">GRIM</a></li>
    <li><a class="dropdown-item" href="../articles/grimmer.html">GRIMMER</a></li>
    <li><a class="dropdown-item" href="../articles/debit.html">DEBIT</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Plausibility checks</h6></li>
    <li><a class="dropdown-item" href="../articles/duplicates.html">Duplication analysis</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Quick guides</h6></li>
    <li><a class="dropdown-item" href="../articles/rounding-options.html">Rounding options</a></li>
    <li><a class="dropdown-item" href="../articles/consistency-tests-simple.html">Implementing your consistency test</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developer tools</h6></li>
    <li><a class="dropdown-item" href="../articles/rounding-in-depth.html">Rounding in depth</a></li>
    <li><a class="dropdown-item" href="../articles/consistency-tests-in-depth.html">Consistency tests in depth</a></li>
    <li><a class="dropdown-item" href="../articles/devtools.html">Developer tools</a></li>
    <li><a class="dropdown-item" href="../articles/wrangling.html">Data wrangling</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other</h6></li>
    <li><a class="dropdown-item" href="../articles/related.html">Related software</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lhdjung/scrutiny/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The GRIMMER test (granularity-related inconsistency of means mapped to error repeats)</h1>
      <small class="dont-index">Source: <a href="https://github.com/lhdjung/scrutiny/blob/main/R/grimmer.R" class="external-link"><code>R/grimmer.R</code></a></small>
      <div class="d-none name"><code>grimmer.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>grimmer()</code> checks if reported mean and SD values of integer
data are mathematically consistent with the reported sample size and the
number of items that compose the mean value. It works much like <code><a href="grim.html">grim()</a></code>.</p>
<p>The function is vectorized, but it is recommended to use <code><a href="grimmer_map.html">grimmer_map()</a></code>
for testing multiple cases.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">grimmer</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">sd</span>,</span>
<span>  <span class="va">n</span>,</span>
<span>  items <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  show_reason <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rounding <span class="op">=</span> <span class="st">"up_or_down"</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  symmetric <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tolerance <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span><span class="op">^</span><span class="fl">0.5</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>String. The reported mean value.</p></dd>


<dt id="arg-sd">sd<a class="anchor" aria-label="anchor" href="#arg-sd"></a></dt>
<dd><p>String. The reported standard deviation.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Integer. The reported sample size.</p></dd>


<dt id="arg-items">items<a class="anchor" aria-label="anchor" href="#arg-items"></a></dt>
<dd><p>Integer. The number of items composing the <code>x</code> and <code>sd</code> values.
Default is <code>1</code>, the most common case.</p></dd>


<dt id="arg-show-reason">show_reason<a class="anchor" aria-label="anchor" href="#arg-show-reason"></a></dt>
<dd><p>Logical. For internal use only. If set to <code>TRUE</code>, the
output is a list of length-2 lists which also contain the reasons for
inconsistencies. Don't specify this manually; instead, use <code>show_reason</code> in
<code><a href="grimmer_map.html">grimmer_map()</a></code>. See there for explanation. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-rounding">rounding<a class="anchor" aria-label="anchor" href="#arg-rounding"></a></dt>
<dd><p>String. Rounding method or methods to be used for
reconstructing the values to which <code>x</code> will be compared. Default is
<code>"up_or_down"</code> (from 5).</p></dd>


<dt id="arg-threshold">threshold<a class="anchor" aria-label="anchor" href="#arg-threshold"></a></dt>
<dd><p>Numeric. If <code>rounding</code> is set to <code>"up_from"</code>, <code>"down_from"</code>,
or <code>"up_from_or_down_from"</code>, set <code>threshold</code> to the number from which the
reconstructed values should then be rounded up or down. Otherwise, this
argument plays no role. Default is <code>5</code>.</p></dd>


<dt id="arg-symmetric">symmetric<a class="anchor" aria-label="anchor" href="#arg-symmetric"></a></dt>
<dd><p>Logical. Set <code>symmetric</code> to <code>TRUE</code> if the rounding of
negative numbers with <code>"up"</code>, <code>"down"</code>, <code>"up_from"</code>, or <code>"down_from"</code>
should mirror that of positive numbers so that their absolute values are
always equal. Default is <code>FALSE</code>.</p></dd>


<dt id="arg-tolerance">tolerance<a class="anchor" aria-label="anchor" href="#arg-tolerance"></a></dt>
<dd><p>Numeric. Tolerance of comparison between <code>x</code> and the
possible mean or percentage values. Default is circa 0.000000015
(1.490116e-08), as in <code><a href="https://dplyr.tidyverse.org/reference/near.html" class="external-link">dplyr::near()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Logical. <code>TRUE</code> if <code>x</code>, <code>sd</code>, <code>n</code>, and <code>items</code> are mutually
consistent, <code>FALSE</code> if not.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>GRIMMER was originally devised by Anaya (2016). The present
implementation follows Allard's (2018) refined Analytic-GRIMMER algorithm.
It uses a variant of Analytic-GRIMMER first implemented in
<a href="https://lukaswallrich.github.io/rsprite2/reference/GRIMMER_test.html" class="external-link"><code>rsprite2::GRIMMER_test()</code></a>
that can be applied to multi-item scales.</p>
<p>The scrutiny version embeds GRIMMER in the broader system of consistency
testing, as laid out in
<a href="https://lhdjung.github.io/scrutiny/articles/consistency-tests-in-depth.html"><em>Consistency
tests in depth</em></a>. The <code>grimmer()</code> function
is a vectorized (multiple-case) version of this basic implementation. For
more context and variable name translations, see the top of the R/grimmer.R
source file.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Allard, A. (2018). Analytic-GRIMMER: a new way of testing the
possibility of standard deviations.
https://aurelienallard.netlify.app/post/anaytic-grimmer-possibility-standard-deviations/</p>
<p>Anaya, J. (2016). The GRIMMER test: A method for testing the validity of
reported measures of variability. <em>PeerJ Preprints.</em>
https://peerj.com/preprints/2400v1/</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># A mean of 5.23 is not consistent with an SD of 2.55</span></span></span>
<span class="r-in"><span><span class="co"># and a sample size of 35:</span></span></span>
<span class="r-in"><span><span class="fu">grimmer</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"5.23"</span>, sd <span class="op">=</span> <span class="st">"2.55"</span>, n <span class="op">=</span> <span class="fl">35</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>False-positive GRIMMER results possible.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> I became aware of a bug in the `grimmer*()` functions.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">✖</span> GRIMMER's test 3 can flag consistent values as inconsistent.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">✖</span> For now, please use `show_reason = TRUE` and interpret results of test 3 with</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   care. (The first two tests and GRIM are not affected.)</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> The next version of scrutiny will provide a fix. Many apologies.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> For more information, see <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/lhdjung/scrutiny/issues/80&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  5.23 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FALSE </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># However, mean and SD are consistent with a</span></span></span>
<span class="r-in"><span><span class="co"># sample size of 31:</span></span></span>
<span class="r-in"><span><span class="fu">grimmer</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"5.23"</span>, sd <span class="op">=</span> <span class="st">"2.55"</span>, n <span class="op">=</span> <span class="fl">31</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>False-positive GRIMMER results possible.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> I became aware of a bug in the `grimmer*()` functions.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">✖</span> GRIMMER's test 3 can flag consistent values as inconsistent.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">✖</span> For now, please use `show_reason = TRUE` and interpret results of test 3 with</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   care. (The first two tests and GRIM are not affected.)</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> The next version of scrutiny will provide a fix. Many apologies.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> For more information, see <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/lhdjung/scrutiny/issues/80&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5.23 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRUE </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For a scale composed of two items:</span></span></span>
<span class="r-in"><span><span class="fu">grimmer</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"2.74"</span>, sd <span class="op">=</span> <span class="st">"0.96"</span>, n <span class="op">=</span> <span class="fl">63</span>, items <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>False-positive GRIMMER results possible.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> I became aware of a bug in the `grimmer*()` functions.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">✖</span> GRIMMER's test 3 can flag consistent values as inconsistent.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">✖</span> For now, please use `show_reason = TRUE` and interpret results of test 3 with</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>   care. (The first two tests and GRIM are not affected.)</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> The next version of scrutiny will provide a fix. Many apologies.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> For more information, see <span style="color: #0000BB; font-style: italic;">&lt;https://github.com/lhdjung/scrutiny/issues/80&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2.74 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TRUE </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lukas Jung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

