<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Detect duplicate values — duplicate_detect • scrutiny</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Detect duplicate values — duplicate_detect" />
<meta property="og:description" content="For every value in a vector or data frame, duplicate_detect()
tests whether there is at least one identical value. Test results are
presented next to every value.
By default, only numeric columns and string columns coercible to numeric
are tested (if x is a data frame). Any other columns are silently
dropped.
This function is a blunt tool designed for initial data checking. Don't put
too much weight on its results.
For summary statistics, call audit() on the results." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">scrutiny</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">Consistency tests</li>
    <li>
      <a href="../articles/grim.html">GRIM</a>
    </li>
    <li>
      <a href="../articles/debit.html">DEBIT</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Infrastructure</li>
    <li>
      <a href="../articles/rounding.html">Rounding</a>
    </li>
    <li>
      <a href="../articles/infrastructure.html">Infrastructure beyond rounding</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Other</li>
    <li>
      <a href="../articles/wrangling.html">Data wrangling</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lhdjung/scrutiny/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Detect duplicate values</h1>
    <small class="dont-index">Source: <a href='https://github.com/lhdjung/scrutiny/blob/master/R/duplicate-detect.R'><code>R/duplicate-detect.R</code></a></small>
    <div class="hidden name"><code>duplicate_detect.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>For every value in a vector or data frame, <code>duplicate_detect()</code>
tests whether there is at least one identical value. Test results are
presented next to every value.</p>
<p>By default, only numeric columns and string columns coercible to numeric
are tested (if <code>x</code> is a data frame). Any other columns are silently
dropped.</p>
<p>This function is a blunt tool designed for initial data checking. Don't put
too much weight on its results.</p>
<p>For summary statistics, call <code><a href='audit.html'>audit()</a></code> on the results.</p>
    </div>

    <pre class="usage"><span class='fu'>duplicate_detect</span><span class='op'>(</span><span class='va'>x</span>, numeric_only <span class='op'>=</span> <span class='cn'>TRUE</span>, colname_end <span class='op'>=</span> <span class='st'>"dup"</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Vector or data frame.</p></td>
    </tr>
    <tr>
      <th>numeric_only</th>
      <td><p>Boolean. If <code>TRUE</code> (the default) and if <code>x</code> is a data
frame, the function will only test numeric columns and string columns
coercible to numeric. <em>Note</em>: Be careful when setting it to <code>FALSE</code>. This
can lead to all kinds of coercion issues.</p></td>
    </tr>
    <tr>
      <th>colname_end</th>
      <td><p>String. Name ending of the Boolean test result columns.
Default is <code>"dup"</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble ---</p><ul>
<li><p>If <code>x</code> is a vector, there are two columns: the input <code>value</code> and the
Boolean <code>has_duplicates</code>.</p></li>
<li><p>If <code>x</code> is a data frame, the output tibble has (some of) the columns from
<code>x</code>, and to each of these columns' right, the corresponding Boolean
column with an index value.</p></li>
</ul>

<p>The tibble has the <code>scr_dup_detect</code> class, which is recognized by the
<code><a href='audit.html'>audit()</a></code> generic.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is not very informative with many input values that
only have a few characters each. Many of them may have duplicates just by
chance. For example, in R's built-in <code>iris</code> data set, 99% of values have
duplicates.</p>
<p>In general, the fewer values and the more characters per value there are,
the more significant <code>duplicate_detect()</code>'s results will be.</p>
    <h2 class="hasAnchor" id="summaries-with-audit-"><a class="anchor" href="#summaries-with-audit-"></a>Summaries with <code><a href='audit.html'>audit()</a></code></h2>

    <p>There is an S3 method for the <code><a href='audit.html'>audit()</a></code>
generic, so you can call <code><a href='audit.html'>audit()</a></code> following <code>duplicate_detect()</code>. It
returns a tibble with these columns ---</p><ul>
<li><p><code>variable</code>: The original data frame's variables with at least one
"duplicated" value: one that has at least one duplicate anywhere else in
the data frame. For a vector, <code>x</code>.</p></li>
<li><p><code>n_duplicated</code>: Number of "duplicated" values of that variable: those
that have at least one duplicate anywhere in the data frame.</p></li>
<li><p><code>dup_rate</code>: Rate of "duplicated" values of that variable.</p></li>
</ul>

<p>The final row, <code>.total</code>, summarizes across all other rows: It adds up the
<code>n_duplicated</code> and <code>n_total</code> columns, and calculates the average of the
<code>dup_rate</code> column.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='duplicate_count.html'>duplicate_count()</a></code> provides a frequency table.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='co'># Find duplicate values in a data frame...</span></span>
<span class='r-in'><span class='fu'>duplicate_detect</span><span class='op'>(</span><span class='va'>pigs4</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># A tibble: 5 × 4</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   snout snout_dup  tail tail_dup</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;lgl&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;lgl&gt;</span>   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>1</span>  4.74 FALSE      6.89 FALSE   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>2</span>  8.13 TRUE       7.33 FALSE   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>3</span>  4.22 TRUE       6.10 FALSE   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>4</span>  4.22 TRUE       7.57 FALSE   </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>5</span>  5.18 FALSE      8.13 TRUE    </span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># ...or in a single vector:</span></span>
<span class='r-in'><span class='fu'>duplicate_detect</span><span class='op'>(</span><span class='va'>pigs4</span><span class='op'>$</span><span class='va'>snout</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># A tibble: 5 × 2</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   value has_duplicates</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;lgl&gt;</span>         </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>1</span>  4.74 FALSE         </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>2</span>  8.13 FALSE         </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>3</span>  4.22 TRUE          </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>4</span>  4.22 TRUE          </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>5</span>  5.18 FALSE         </span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Summary statistics with `audit()`:</span></span>
<span class='r-in'><span class='va'>pigs4</span> <span class='op'><a href='%>%.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'>duplicate_detect</span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='%>%.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'><a href='audit.html'>audit</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># A tibble: 3 × 4</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   variable n_duplicated n_total dup_rate</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>           <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>1</span> snout               3       5      0.6</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>2</span> tail                1       5      0.2</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>3</span> .total              4      10      0.4</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># If there are many values and/or few</span></span>
<span class='r-in'><span class='co'># characters per value, `duplicate_detect()`</span></span>
<span class='r-in'><span class='co'># can be misleading:</span></span>
<span class='r-in'><span class='va'>iris</span> <span class='op'><a href='%>%.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'>duplicate_detect</span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># A tibble: 150 × 8</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>    Sepal.Length Sepal.Length_dup Sepal.Width Sepal.Width_dup Petal.Length</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>           <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;lgl&gt;</span>                  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;lgl&gt;</span>                  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 1</span>          5.1 TRUE                     3.5 TRUE                     1.4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 2</span>          4.9 TRUE                     3   TRUE                     1.4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 3</span>          4.7 TRUE                     3.2 TRUE                     1.3</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 4</span>          4.6 TRUE                     3.1 TRUE                     1.5</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 5</span>          5   TRUE                     3.6 TRUE                     1.4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 6</span>          5.4 TRUE                     3.9 TRUE                     1.7</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 7</span>          4.6 TRUE                     3.4 TRUE                     1.4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 8</span>          5   TRUE                     3.4 TRUE                     1.5</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'> 9</span>          4.4 TRUE                     2.9 TRUE                     1.4</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>10</span>          4.9 TRUE                     3.1 TRUE                     1.5</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># … with 140 more rows, and 3 more variables: Petal.Length_dup &lt;lgl&gt;,</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'>#   Petal.Width &lt;dbl&gt;, Petal.Width_dup &lt;lgl&gt;</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>iris</span> <span class='op'><a href='%>%.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'>duplicate_detect</span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='%>%.html'>%&gt;%</a></span></span>
<span class='r-in'>  <span class='fu'><a href='audit.html'>audit</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #949494;'># A tibble: 5 × 4</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   variable     n_duplicated n_total dup_rate</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>               <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>   <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>    <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>1</span> Petal.Length          150     150    1    </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>2</span> Petal.Width           148     150    0.987</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>3</span> Sepal.Length          144     150    0.96 </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>4</span> Sepal.Width           150     150    1    </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> <span style='color: #BCBCBC;'>5</span> .total                592     600    0.987</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Lukas Jung.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


