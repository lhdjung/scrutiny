<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • scrutiny</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">scrutiny</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Consistency tests</h6>
    <a class="dropdown-item" href="../articles/grim.html">GRIM</a>
    <a class="dropdown-item" href="../articles/grimmer.html">GRIMMER</a>
    <a class="dropdown-item" href="../articles/debit.html">DEBIT</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Plausibility checks</h6>
    <a class="dropdown-item" href="../articles/duplicates.html">Duplication analysis</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Quick guides</h6>
    <a class="dropdown-item" href="../articles/rounding-options.html">Rounding options</a>
    <a class="dropdown-item" href="../articles/consistency-tests-simple.html">Implementing your consistency test</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Infrastructure</h6>
    <a class="dropdown-item" href="../articles/rounding-in-depth.html">Rounding in depth</a>
    <a class="dropdown-item" href="../articles/consistency-tests-in-depth.html">Consistency tests in depth</a>
    <a class="dropdown-item" href="../articles/infrastructure.html">General infrastructure</a>
    <a class="dropdown-item" href="../articles/wrangling.html">Data wrangling</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Other</h6>
    <a class="dropdown-item" href="../articles/related.html">Related software</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/lhdjung/scrutiny/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/lhdjung/scrutiny/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="scrutiny-development-version">scrutiny (development version)<a class="anchor" aria-label="anchor" href="#scrutiny-development-version"></a></h2>
<p>This version brings major performance improvements. Furthermore:</p>
<div class="section level3">
<h3 id="bugfixes-development-version">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-development-version"></a></h3>
<ul><li>Fixed a bug in <code><a href="../reference/audit-special.html">audit_seq()</a></code>: If the <code>dispersion</code> argument in the preceding call to a function like <code><a href="../reference/grim_map_seq.html">grim_map_seq()</a></code> was specified as something other than a linearly increasing sequence, the <code>"diff_*"</code> columns in the data frames returned by <code><a href="../reference/audit-special.html">audit_seq()</a></code> may have contained incorrect values.</li>
<li>Similarly, <code><a href="../reference/audit-special.html">audit_seq()</a></code> and <code><a href="../reference/reverse_map_seq.html">reverse_map_seq()</a></code> used to reconstruct the reported values incorrectly if the <code>dispersion</code> default was overridden as described above. At least for now, the issue is handled by throwing an error if these functions operate on data frames that are the result of specifying <code>dispersion</code> as something other than a linearly increasing sequence.</li>
<li>Fixed a bug that incorrectly threw an error in <code><a href="../reference/grim_map_seq.html">grim_map_seq()</a></code>, other functions made by <code><a href="../reference/function_map_seq.html">function_map_seq()</a></code>, as well as <code><a href="../reference/seq_disperse.html">seq_disperse()</a></code> and <code><a href="../reference/seq_disperse.html">seq_disperse_df()</a></code> if an input value was so close to <code>out_min</code> or <code>out_max</code> that the output sequence would be shorter than implied by <code>dispersion</code> / <code>.dispersion</code> , and if <code>track_var_change</code> / <code>.track_var_change</code> (see below) was <code>TRUE</code>. Again, note that the bug only occurred if an error was thrown.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-development-version">New features<a class="anchor" aria-label="anchor" href="#new-features-development-version"></a></h3>
<ul><li>A new vignette lists the options for specifying the <code>rounding</code> argument that many scrutiny functions have: <code><a href="../articles/rounding-options.html">vignette("rounding-options")</a></code>.</li>
<li>The output of <code><a href="../reference/grim_map_seq.html">grim_map_seq()</a></code>, <code><a href="../reference/grimmer_map_seq.html">grimmer_map_seq()</a></code>, <code><a href="../reference/debit_map_seq.html">debit_map_seq()</a></code> and any other function made by <code><a href="../reference/function_map_seq.html">function_map_seq()</a></code> now has a <code>diff_var</code> column that tracks the difference between the dispersed variable (see the <code>var</code> column) and the reported value. Following the <code>diff_*</code> columns in the output of <code><a href="../reference/audit-special.html">audit_seq()</a></code>, this is the number of dispersion steps, not the actual numeric difference.</li>
<li>The same <code>diff_*</code> columns are now integer, not double.</li>
<li>
<code><a href="../reference/function_map.html">function_map()</a></code>, <code><a href="../reference/function_map_seq.html">function_map_seq()</a></code>, and <code><a href="../reference/function_map_total_n.html">function_map_total_n()</a></code> have a new <code>.name_key_result</code> argument that controls the name of the key result column in the output of the factory-made function. This is <code>"consistency"</code> by default, but other names will fit better for other kinds of tests. (The results of these tests must still be logical values.)</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-development-version">Minor changes<a class="anchor" aria-label="anchor" href="#minor-changes-development-version"></a></h3>
<ul><li>In <code><a href="../reference/duplicate_count.html">duplicate_count()</a></code>, the <code>count</code> column in the output tibble was renamed to <code>frequency</code>. This makes for a more streamlined frequency table and removes an ambiguity with <code><a href="../reference/duplicate_count_colpair.html">duplicate_count_colpair()</a></code>, where the <code>count</code> output column means something different.</li>
<li>In <code><a href="../reference/seq_disperse.html">seq_disperse()</a></code> and <code><a href="../reference/seq_disperse.html">seq_disperse_df()</a></code>, the <code>track_var_change</code> / <code>.track_var_change</code> argument was renamed to <code>track_diff_var</code> / <code>.track_diff_var</code>. The arguments with the old names are still present for now but will be removed in a future version. Also, the unit of these values is now dispersion steps, for consistency with <code><a href="../reference/grim_map_seq.html">grim_map_seq()</a></code> etc. as well as <code><a href="../reference/audit-special.html">audit_seq()</a></code>.</li>
<li>
<code><a href="../reference/grim-stats.html">grim_total()</a></code>, <code><a href="../reference/grim-stats.html">grim_ratio()</a></code>, and <code><a href="../reference/grim-stats.html">grim_ratio_upper()</a></code> now require <code>x</code> to have length 1.</li>
<li>Some dependencies that used to be suggested are now imported.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="scrutiny-030">scrutiny 0.3.0<a class="anchor" aria-label="anchor" href="#scrutiny-030"></a></h2><p class="text-muted">CRAN release: 2023-08-08</p>
<div class="section level3">
<h3 id="duplicate-analysis-overhaul-0-3-0">Duplicate analysis overhaul<a class="anchor" aria-label="anchor" href="#duplicate-analysis-overhaul-0-3-0"></a></h3>
<p>The <code>duplicate_*()</code> functions now present their output better and have overall been streamlined. Read more at <code><a href="../articles/duplicates.html">vignette("duplicates")</a></code>.</p>
<ul><li><p>A new function, <code><a href="../reference/duplicate_tally.html">duplicate_tally()</a></code>, marks each observation with its overall frequency. It is similar to <code><a href="../reference/duplicate_detect.html">duplicate_detect()</a></code> but more informative.</p></li>
<li>
<p>In <code><a href="../reference/duplicate_count.html">duplicate_count()</a></code>:</p>
<ul><li><p>All values are now treated like character strings, so all can be checked. The <code>numeric_only</code> argument is deprecated and should no longer be used.</p></li>
<li><p>The output tibble has two new columns, <code>locations</code> and <code>locations_n</code>. These hold the names of all input columns in which a value appears and the number of these columns. Details are controlled by the new <code>locations_type</code> argument.</p></li>
<li><p>New <code>ignore</code> argument for specifying one or more values that will not be checked for duplicates.</p></li>
</ul></li>
<li>
<p>In <code><a href="../reference/duplicate_count_colpair.html">duplicate_count_colpair()</a></code>:</p>
<ul><li><p>New <code>total_x</code> and <code>total_y</code> columns in the output show how many non-missing values were checked for duplicates.</p></li>
<li><p>New <code>ignore</code> argument as in <code><a href="../reference/duplicate_count.html">duplicate_count()</a></code>.</p></li>
<li><p>The <code>na.rm</code> argument is deprecated. It wasn’t very useful because missing values are never checked for duplicates.</p></li>
</ul></li>
<li>
<p><code><a href="../reference/duplicate_detect.html">duplicate_detect()</a></code> is superseded. It is less informative than <code><a href="../reference/duplicate_count.html">duplicate_count()</a></code> and, in particular, <code><a href="../reference/duplicate_tally.html">duplicate_tally()</a></code>. Still, it shares in the overhaul:</p>
<ul><li>As in <code><a href="../reference/duplicate_count.html">duplicate_count()</a></code>, all values are now treated like character strings, so all can be checked. The <code>numeric_only</code> argument is deprecated and should no longer be used.</li>
<li>The duplicate status of missing values is now shown as <code>NA</code>.</li>
<li>New <code>ignore</code> argument as in <code><a href="../reference/duplicate_count.html">duplicate_count()</a></code>.</li>
</ul></li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-0-3-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-0-3-0"></a></h3>
<ul><li><p>Fixed a numeric precision bug in <code><a href="../reference/rounding-common.html">round_up_from()</a></code> and <code><a href="../reference/rounding-common.html">round_down_from()</a></code> that occurred when rounding numbers greater than circa 2100 with a part to be truncated that was equal to 5 on that decimal level (thanks to <a href="https://github.com/kaz462" class="external-link">@kaz462</a>, <a href="https://github.com/lhdjung/scrutiny/issues/43" class="external-link">#43</a>). These functions are called within <code><a href="../reference/rounding-common.html">round_up()</a></code> and <code><a href="../reference/rounding-common.html">round_down()</a></code>, and indirectly by all consistency-testing functions.</p></li>
<li><p>Fixed a bug in <code><a href="../reference/audit-special.html">audit_seq()</a></code> that displayed one “hit” found by varying a given reported value if there were no such hits. The other columns were not affected.</p></li>
<li><p>Fixed a bug in <code><a href="../reference/function_map.html">function_map()</a></code> that displayed the wrong calling function’s name in case of an error.</p></li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-0-3-0">Minor improvements<a class="anchor" aria-label="anchor" href="#minor-improvements-0-3-0"></a></h3>
<ul><li><p>Documentation for <code><a href="../reference/grim_map_seq.html">grim_map_seq()</a></code> and all other functions made by <code><a href="../reference/function_map.html">function_map()</a></code>, <code><a href="../reference/function_map_seq.html">function_map_seq()</a></code>, or <code><a href="../reference/function_map_total_n.html">function_map_total_n()</a></code> now displays meaningful defaults. Printing the factory-made functions is more meaningful, as well. Internally, they now work with <code><a href="https://rlang.r-lib.org/reference/new_function.html" class="external-link">rlang::new_function()</a></code>, which allows for flexible metaprogramming.</p></li>
<li><p>The experimental function <code><a href="../reference/audit_list.html">audit_list()</a></code> is deprecated. Just use <code><a href="../reference/audit.html">audit()</a></code> instead. <code><a href="../reference/audit-special.html">audit_seq()</a></code> and <code><a href="../reference/audit-special.html">audit_total_n()</a></code> are now documented separately from <code><a href="../reference/audit.html">audit()</a></code> and <code><a href="../reference/audit_list.html">audit_list()</a></code>.</p></li>
<li><p>The lifecycle package is now imported and used in formal deprecations such as that of <code>sep</code> in the <code>restore_*()</code> functions. The janitor package is no longer suggested.</p></li>
<li><p>Adjusted to new CRAN requirements for <code><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion()</a></code> usage.</p></li>
<li><p>Some performance improvements.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.4" id="scrutiny-024">scrutiny 0.2.4<a class="anchor" aria-label="anchor" href="#scrutiny-024"></a></h2><p class="text-muted">CRAN release: 2023-01-20</p>
<ul><li>New <code><a href="../reference/decimal_places_df.html">decimal_places_df()</a></code> function that takes a data frame and counts the decimal places in all numeric-like columns.</li>
<li>Four new predicate functions centered around <code><a href="../reference/data-frame-predicates.html">is_map_df()</a></code> test whether an object is the output of a scrutiny-style mapper function for consistency tests.</li>
<li>Newly exported <code><a href="../reference/is_numeric_like.html">is_numeric_like()</a></code> function to test whether an object (e.g., a string vector) can be coerced to numeric.</li>
<li>New <code><a href="../reference/grim-stats.html">grim_ratio_upper()</a></code> function gives an upper bound for <code><a href="../reference/grim-stats.html">grim_ratio()</a></code>.</li>
<li>Changes in <code><a href="../reference/split_by_parens.html">split_by_parens()</a></code>:
<ul><li><p>The function now uses a <code>cols</code> argument instead of the dots (<code>...</code>). This follows <a href="https://tidyselect.r-lib.org/articles/tidyselect.html#selections-as-dots-or-as-named-arguments" class="external-link">tidyselect development guidelines</a>. The default, <code>cols = everything()</code>, is to select all columns that contain the <code>sep</code> elements (by default, parentheses). Set the new <code>check_sep</code> argument to <code>FALSE</code> to select all columns regardless.</p></li>
<li><p>All other arguments were renamed: they no longer start on a dot. Furthermore, <code>.col1</code> and <code>.col2</code> have been renamed to <code>end1</code> and <code>end2</code>.</p></li>
<li><p>A warning is now issued if one or more columns can’t be split (or is de-selected from splitting). This occurs if a column doesn’t contain the <code>sep</code> elements.</p></li>
<li><p>Internal changes for compatibility with dplyr 1.1.0.</p></li>
</ul></li>
<li>In <code><a href="../reference/restore_zeros.html">restore_zeros_df()</a></code> as well, the dots (<code>...</code>) were replaced by a <code>cols</code> argument, and each other argument no longer has a prefix dot. This follows the changes in <code><a href="../reference/split_by_parens.html">split_by_parens()</a></code>, but note the default selection restrictions by the new <code>check_numeric_like</code> argument. The optional <code>check_decimals</code> argument goes even further.</li>
<li>Prevent false-positive warnings when printing ggplot objects (they had occurred since ggplot2 3.4.0).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3" id="scrutiny-023">scrutiny 0.2.3<a class="anchor" aria-label="anchor" href="#scrutiny-023"></a></h2><p class="text-muted">CRAN release: 2022-12-11</p>
<p>Some new features and bugfixes:</p>
<ul><li><p>New <code><a href="../reference/audit.html">audit()</a></code> methods for the output of <code><a href="../reference/audit-special.html">audit_seq()</a></code> and <code><a href="../reference/audit-special.html">audit_total_n()</a></code>.</p></li>
<li><p>New <code><a href="../reference/duplicate_count_colpair.html">duplicate_count_colpair()</a></code> function that checks each combination of columns in a data frame for duplicates.</p></li>
<li><p>New <code><a href="../reference/restore_zeros.html">restore_zeros_df()</a></code> function to easily restore trailing zeros in all numeric-like columns in a data frame.</p></li>
<li><p>New <code><a href="../reference/seq_length.html">seq_length()</a></code> function to extend or shorten linear sequences.</p></li>
<li><p>Bugfixes in the <code>is_seq_*()</code> functions.</p></li>
<li><p>Argument evaluation is now forced in the function factories: <code><a href="../reference/function_map.html">function_map()</a></code>, <code><a href="../reference/function_map_seq.html">function_map_seq()</a></code>, and <code><a href="../reference/function_map_total_n.html">function_map_total_n()</a></code>.</p></li>
<li><p>Some possible corner case issues in <code><a href="../reference/split_by_parens.html">split_by_parens()</a></code> are now prevented.</p></li>
<li><p>Internal changes for compatibility with purrr 1.0.0 and tidyselect 1.2.0.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="scrutiny-022">scrutiny 0.2.2<a class="anchor" aria-label="anchor" href="#scrutiny-022"></a></h2><p class="text-muted">CRAN release: 2022-08-22</p>
<p>This is a patch for CRAN compliance.</p>
<ul><li><p>The package now requires R version &gt;= 3.4.0 and rlang version &gt;= 1.0.2.</p></li>
<li><p>Subtle changes to <code><a href="../reference/split_by_parens.html">split_by_parens()</a></code> that users generally won’t notice.</p></li>
<li><p>Minor shifts in the documentation (e.g., <code>vignette("consistency-tests")</code> now has instructions on exporting factory-made functions.).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="scrutiny-021">scrutiny 0.2.1<a class="anchor" aria-label="anchor" href="#scrutiny-021"></a></h2>
<p>This is a patch.</p>
<ul><li><p>It reduces the scope of some examples for CRAN compliance.</p></li>
<li><p>Minor vignette changes.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="scrutiny-020">scrutiny 0.2.0<a class="anchor" aria-label="anchor" href="#scrutiny-020"></a></h2>
<p>This is a massive release, with many new features and improvements all over scrutiny. Most notably, the package now includes an entirely new system for implementing consistency tests.</p>
<ul><li>A new vignette lays out how to implement consistency tests using scrutiny’s infrastructure. It describes many of the features mentioned below.</li>
<li>GRIMMER support was added, as explained in another new vignette. All GRIM and DEBIT functions mentioned below have GRIMMER analogues. For example, <code><a href="../reference/grimmer_map_seq.html">grimmer_map_seq()</a></code> is analogous to <code><a href="../reference/grim_map_seq.html">grim_map_seq()</a></code>.</li>
<li>Because of the new, stricter rules for consistency tests, the output of <code><a href="../reference/grim_map.html">grim_map()</a></code> no longer includes an <code>items</code> column by default. Instead, the numbers of items (1 by default) are factored into the output’s <code>n</code> column. This focuses the presentation on the essence of GRIM.</li>
<li>GRIM and DEBIT functions are now somewhat less likely to flag value sets as inconsistent. That is because measures were taken to reduce spurious, computer-induced differences when comparing floating-point numbers. The same applies to the new GRIMMER functions.</li>
<li>
<code><a href="../reference/function_map.html">function_map()</a></code> enables users to quickly create consistency test functions for data frames much like <code><a href="../reference/grim_map.html">grim_map()</a></code> or <code><a href="../reference/debit_map.html">debit_map()</a></code>.</li>
<li>
<code><a href="../reference/grim_map_seq.html">grim_map_seq()</a></code> checks if GRIM inconsistencies might be due to small errors, and the true values might be close to the reported ones. It varies the inputs up and down in a specified range, holding the respective other ones constant, and tests all those combinations. For summaries, call <code><a href="../reference/audit-special.html">audit_seq()</a></code> on the results.</li>
<li>
<code><a href="../reference/debit_map_seq.html">debit_map_seq()</a></code> does the same for DEBIT.</li>
<li>The above two are powered by <code><a href="../reference/function_map_seq.html">function_map_seq()</a></code>, which allows users to easily create functions just like these for any consistency test. All that’s needed is a data-frame-level consistency testing function like <code><a href="../reference/grim_map.html">grim_map()</a></code> or <code><a href="../reference/debit_map.html">debit_map()</a></code>.</li>
<li>
<code><a href="../reference/grim_map_total_n.html">grim_map_total_n()</a></code> applies GRIM in cases where no group sizes are reported, only total sample sizes. It systematically matches possible group sizes (around half the total) with reported mean or proportion values, GRIM-tests them, and counts the scenarios in which both matches are consistent. For summaries, call <code><a href="../reference/audit-special.html">audit_total_n()</a></code> on the results.</li>
<li>
<code><a href="../reference/debit_map_total_n.html">debit_map_total_n()</a></code> does the same for DEBIT.</li>
<li>The above two are powered by <code><a href="../reference/function_map_total_n.html">function_map_total_n()</a></code>, which allows users to easily create new functions like <code><a href="../reference/grim_map_total_n.html">grim_map_total_n()</a></code> or <code><a href="../reference/debit_map_total_n.html">debit_map_total_n()</a></code>, provided a data-frame-level consistency testing function like <code><a href="../reference/grim_map.html">grim_map()</a></code> or <code><a href="../reference/debit_map.html">debit_map()</a></code>.</li>
<li>On a lower level still, <code><a href="../reference/disperse.html">disperse_total()</a></code> takes a total sample size (comprised of the two unknown group sizes on interest) and calls the appropriate group-level function: <code><a href="../reference/disperse.html">disperse()</a></code> for even totals, <code><a href="../reference/disperse.html">disperse2()</a></code> for odd ones.</li>
<li>
<code><a href="../reference/seq_disperse.html">seq_disperse()</a></code> and <code><a href="../reference/seq_disperse.html">seq_disperse_df()</a></code> extend scrutiny’s support for string decimal sequences with trailing zeros. They construct sequences centered around the input; a use case not directly covered by <code><a href="https://rdrr.io/r/base/seq.html" class="external-link">base::seq()</a></code>.</li>
<li>Predicate functions around <code><a href="../reference/seq-predicates.html">is_seq_linear()</a></code> test whether a vector represents a certain kind of numeric sequence.</li>
<li>In <code><a href="../reference/debit_map.html">debit_map()</a></code>, the <code>x</code> column is now to the left of the <code>sd</code> column if <code>show_rec</code> is <code>FALSE</code>, in accordance with the <code>show_rec = TRUE</code> default.</li>
<li>
<code><a href="../reference/debit.html">debit()</a></code> is now vectorized.</li>
<li>The functions around <code>is_subset_of() and is_superset_of()</code> functions now have stricter variants grouped around <code><a href="../reference/subset-superset.html">is_proper_subset_of()</a></code> and <code><a href="../reference/subset-superset.html">is_proper_superset_of()</a></code>.</li>
<li>
<code><a href="../reference/split_by_parens.html">split_by_parens()</a></code> now accepts any pair of separators passed to <code>.sep</code> as a length-2 vector.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="scrutiny-011">scrutiny 0.1.1<a class="anchor" aria-label="anchor" href="#scrutiny-011"></a></h2>
<p>This is a patch, mainly fixing a bug that used to affect the presentation of input data in <code><a href="../reference/grim_map.html">grim_map()</a></code>’s results. It needs to be emphasized that this bug only affected a convenience feature, namely the presentation of certain input data in the output, not the GRIM test itself.</p>
<ul><li><p>Previously, if <code>percent</code> was set to <code>TRUE</code>, the <code>x</code> values were converted to percentages. Because they need to be presented as strings, percentage conversion involves restoring the correct number of trailing zeros. The bug, then, was that all the <code>x</code> values appearing in the output (not in the internal computations!) were restored to the same “length” as the single longest one. This was now remedied, and <code>x</code> values are restored to their individually appropriate number of trailing zeros.</p></li>
<li><p>Another bugfix concerns versioning. Previously, the package had an incorrect version number. It was now corrected.</p></li>
<li><p>The last change was to remove an outdated and potentially misleading paragraph in the documentation of <code><a href="../reference/fractional-rounding.html">reround_to_fraction()</a></code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="scrutiny-010">scrutiny 0.1.0<a class="anchor" aria-label="anchor" href="#scrutiny-010"></a></h2>
<ul><li>
<p>This version includes an overhaul of <code><a href="../reference/grim_plot.html">grim_plot()</a></code>:</p>
<ul><li><p>It extends the function to cover cases of <code>decimals</code> values greater than 2, using a gradient instead of a raster.</p></li>
<li><p>It enables data-free calls to <code><a href="../reference/grim_plot.html">grim_plot()</a></code> with the new <code>show_data</code> argument. Resulting plots only display the background raster. This mirrors Figure 1 in Brown and Heathers’ GRIM paper. (Although <code><a href="../reference/grim_plot.html">grim_plot()</a></code> as a whole is modeled after this figure, the default addition of empirical summary data is specific to scrutiny.) Like Brown and Heathers, users may wish to create such raster-only plots in order to demonstrate some principled points. The key parameters <code>decimals</code> and <code>rounding</code> can be controlled directly to make up for the lack of information from <code>data</code>.</p></li>
<li><p>The function now checks if all input means or proportions (<code>x</code>) have the same number of decimal places. If they don’t, it throws an error. This strict criterion can be circumvented by specifying the <code>decimals</code> argument. However, since each raster is specific to one number of decimal places (and hence cannot be interpreted regarding <code>x</code> values with a different number), the recommended solution is to plot <code>x</code> values separately — once for each number of decimal places.</p></li>
<li><p>The <code>show_full_range</code> argument was removed because I now think it is superfluous.</p></li>
<li><p>Previously, there was some space between the raster and the y-axis. It has now been removed.</p></li>
<li><p>Test result data points, shown in blue and/or red by default, are now built on top of the raster, which makes for a more distinct appearance.</p></li>
</ul></li>
<li><p>Two new functions, <code><a href="../reference/fractional-rounding.html">reround_to_fraction()</a></code>, and <code><a href="../reference/fractional-rounding.html">reround_to_fraction_level()</a></code>, enable fractional rounding, inspired by <code>janitor::round_to_fraction()</code>. For example, they might round <code>0.4</code> to <code>0.5</code> for fractions of <code>2</code>. What tells the new functions apart is that they come with all the flexibility of <code><a href="../reference/reround.html">reround()</a></code>. Furthermore, <code><a href="../reference/fractional-rounding.html">reround_to_fraction_level()</a></code> is closer to a conventional rounding function than the other two.</p></li>
<li><p>The new version also fixes a bug in <code><a href="../reference/row_to_colnames.html">row_to_colnames()</a></code>, rewriting the function’s core.</p></li>
<li><p>Another bug was fixed in <code><a href="../reference/grim.html">grim()</a></code> and <code><a href="../reference/grim_map.html">grim_map()</a></code>, concerning <code>show_rec</code>: For <code>rounding</code> strings that lead to four reconstructed numbers per <code>x</code> value rather than just two, it used to be the case that only the two values corresponding to the first of the two rounding procedures were displayed in the output tibble. Now, all four are displayed, bearing appropriate names.</p></li>
<li><p>Another bugfix is for the <code>threshold</code> argument in <code><a href="../reference/reround.html">reround()</a></code>, which didn’t work properly before. This used to affect higher-level functions such as <code><a href="../reference/grim.html">grim()</a></code>, <code><a href="../reference/grim_map.html">grim_map()</a></code>, <code><a href="../reference/debit.html">debit()</a></code>, and <code><a href="../reference/debit_map.html">debit_map()</a></code>, as well. The default for <code>threshold</code> is now <code>5</code> in all such functions. Note that rounding up and down from 5 has been fully functional independently of it.</p></li>
<li><p>Also in <code><a href="../reference/reround.html">reround()</a></code>, the <code>rec</code> argument has been renamed to <code>x</code> in accordance with general naming conventions. The <code>decimals</code> argument has been renamed to <code>digits</code> in accordance with naming conventions among rounding functions.</p></li>
<li><p>In <code><a href="../reference/split_by_parens.html">split_by_parens()</a></code>, ellipsis support was added to protect the user from silent, unexpected results following named arguments in tidy evaluation. The ellipsis package has been added to the Suggests field in <code>DESCRIPTION</code>.</p></li>
<li><p>In some high-level functions, internal checks now determine if the lengths of multiple arguments that are factored into the same internal function call are mutually congruent. That is, if two such arguments are length &gt; 1, they need to have the same length (which will throw a warning). Otherwise, there will be an explicit and very specific error message.</p></li>
<li><p>Finally, some minor refactoring and other small changes that users generally won’t notice.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.1" id="scrutiny-001">scrutiny 0.0.1<a class="anchor" aria-label="anchor" href="#scrutiny-001"></a></h2>
<ul><li>Added vignette about other packages for error detection, called <code>Related software</code>.</li>
<li>Exported <code><a href="../reference/grim_plot.html">grim_plot()</a></code>.</li>
<li>Minor refactoring.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9000" id="scrutiny-0009000">scrutiny 0.0.0.9000<a class="anchor" aria-label="anchor" href="#scrutiny-0009000"></a></h2>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Lukas Jung.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

